(this["webpackJsonpcovid-19-tracker"]=this["webpackJsonpcovid-19-tracker"]||[]).push([[0],{198:function(e,t,a){},199:function(e,t,a){},202:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(7),r=a.n(o),s=(a(95),a(96),a(234)),l=a(235),i=a(236),m=a(228),d=a(232),u=a(233);a(97);var f=function(e){let{title:t,cases:a,total:n,active:o,isRed:r,...s}=e;return console.log(t,o),c.a.createElement(m.a,{onClick:s.onClick,className:"infoBox ".concat(o&&"infoBox--selected"," ").concat(r&&"infoBox--red")},c.a.createElement(d.a,null,c.a.createElement(u.a,{color:"textSecondary",gutterBottom:!0},t),c.a.createElement("h2",{className:"infoBox__cases ".concat(!r&&"infoBox__cases--green")},a),c.a.createElement(u.a,{className:"infoBox__total",color:"textSecondary"},n," Total")))},h=a(82),v=a(14),p=a.n(v);const E={legend:{display:!1},elements:{point:{radius:0}},maintainAspectRatio:!1,tooltips:{mode:"index",intersect:!1,callbacks:{label:function(e,t){return p()(e.value).format("+0,0")}}},scales:{xAxes:[{type:"time",time:{format:"MM/DD/YY",tooltipFormat:"ll"}}],yAxes:[{gridLines:{display:!1},ticks:{callback:function(e,t,a){return p()(e).format("0a")}}}]}};var g=function(e){let{casesType:t}=e;const[a,o]=Object(n.useState)({});return Object(n.useEffect)(()=>{(async()=>{await fetch("https://disease.sh/v3/covid-19/historical/all?lastdays=120").then(e=>e.json()).then(e=>{let a=((e,t)=>{let a,n=[];for(let c in e.cases){if(a){let o={x:c,y:e[t][c]-a};n.push(o)}a=e[t][c]}return n})(e,t);o(a),console.log(a)})})()},[t]),c.a.createElement("div",null,(null===a||void 0===a?void 0:a.length)>0&&c.a.createElement(h.Line,{data:{datasets:[{backgroundColor:"rgba(204, 16, 52, 0.5)",borderColor:"#CC1034",data:a}]},options:E}))};a(198);var b=function(e){let{countries:t}=e;return c.a.createElement("div",{className:"table"},t.map(e=>c.a.createElement("tr",null,c.a.createElement("td",null,e.country),c.a.createElement("td",null,c.a.createElement("strong",null,p()(e.cases).format("0,0"))))))},y=a(237),_=a(238);const w={cases:{hex:"#CC1034",rgb:"rgb(204, 16, 52)",half_op:"rgba(204, 16, 52, 0.5)",multiplier:800},recovered:{hex:"#7dd71d",rgb:"rgb(125, 215, 29)",half_op:"rgba(125, 215, 29, 0.5)",multiplier:1200},deaths:{hex:"#fb4443",rgb:"rgb(251, 68, 67)",half_op:"rgba(251, 68, 67, 0.5)",multiplier:2e3}},x=e=>e?"+".concat(p()(e).format("0.0a")):"+0";var C=a(239),N=a(240);a(199);var k=function(e){let{countries:t,casesType:a,center:n,zoom:o}=e;return c.a.createElement("div",{className:"map"},c.a.createElement(C.a,{center:n,zoom:o},c.a.createElement(N.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cases";return e.map(e=>c.a.createElement(y.a,{center:[e.countryInfo.lat,e.countryInfo.long],color:w[t].hex,fillColor:w[t].hex,fillOpacity:.4,radius:Math.sqrt(e[t])*w[t].multiplier},c.a.createElement(_.a,null,c.a.createElement("div",{className:"info-container"},c.a.createElement("div",{className:"info-flag",style:{backgroundImage:"url(".concat(e.countryInfo.flag,")")}}),c.a.createElement("div",{className:"info-name"},e.country),c.a.createElement("div",{className:"info-confirmed"},"Cases: ",p()(e.cases).format("0,0")),c.a.createElement("div",{className:"info-recovered"},"Recovered: ",p()(e.recovered).format("0,0")),c.a.createElement("div",{className:"info-deaths"},"Deaths: ",p()(e.deaths).format("0,0"))))))}(t,a)))};a(200);var j=()=>{const[e,t]=Object(n.useState)("worldwide"),[a,o]=Object(n.useState)({}),[r,u]=Object(n.useState)([]),[h,v]=Object(n.useState)([]),[E,y]=Object(n.useState)([]),[_,w]=Object(n.useState)("cases"),[C,N]=Object(n.useState)({lat:34.80746,lng:-40.4796}),[j,O]=Object(n.useState)(3);Object(n.useEffect)(()=>{fetch("https://disease.sh/v3/covid-19/all").then(e=>e.json()).then(e=>{o(e)})},[]),Object(n.useEffect)(()=>{(async()=>{fetch("https://disease.sh/v3/covid-19/countries").then(e=>e.json()).then(e=>{const t=e.map(e=>({name:e.country,value:e.countryInfo.iso2}));let a=(e=>{let t=[...e];return t.sort((e,t)=>e.cases>t.cases?-1:1),t})(e);u(t),v(e),y(a)})})()},[]),console.log(_);return c.a.createElement("div",{className:"app"},c.a.createElement("div",{className:"app__left"},c.a.createElement("div",{className:"app__header"},c.a.createElement("h1",null,"COVID-19 Tracker"),c.a.createElement(s.a,{className:"app__dropdown"},c.a.createElement(l.a,{variant:"outlined",value:e,onChange:async e=>{const a=e.target.value,n="worldwide"===a?"https://disease.sh/v3/covid-19/all":"https://disease.sh/v3/covid-19/countries/".concat(a);await fetch(n).then(e=>e.json()).then(e=>{t(a),o(e),N([e.countryInfo.lat,e.countryInfo.long]),O(4)})}},c.a.createElement(i.a,{value:"worldwide"},"Worldwide"),r.map(e=>c.a.createElement(i.a,{value:e.value},e.name))))),c.a.createElement("div",{className:"app__stats"},c.a.createElement(f,{onClick:e=>w("cases"),title:"Coronavirus Cases",isRed:!0,active:"cases"===_,cases:x(a.todayCases),total:p()(a.cases).format("0.0a")}),c.a.createElement(f,{onClick:e=>w("recovered"),title:"Recovered",active:"recovered"===_,cases:x(a.todayRecovered),total:p()(a.recovered).format("0.0a")}),c.a.createElement(f,{onClick:e=>w("deaths"),title:"Deaths",isRed:!0,active:"deaths"===_,cases:x(a.todayDeaths),total:p()(a.deaths).format("0.0a")})),c.a.createElement(k,{countries:h,casesType:_,center:C,zoom:j})),c.a.createElement(m.a,{className:"app__right"},c.a.createElement(d.a,null,c.a.createElement("div",{className:"app__information"},c.a.createElement("h3",null,"Live Cases by Country"),c.a.createElement(b,{countries:E}),c.a.createElement("h3",null,"Worldwide new ",_),c.a.createElement(g,{casesType:_})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()}).catch(e=>{console.error(e.message)})},90:function(e,t,a){e.exports=a(202)},95:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){}},[[90,1,2]]]);
//# sourceMappingURL=main.3c91ecf0.chunk.js.map